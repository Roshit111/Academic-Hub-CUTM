<div class="container mt-5">
  <div class="card shadow-lg p-4 rounded-4 border-0">
      <div class="d-flex align-items-center mb-3">
          <i class="bi bi-file-lock2-fill text-primary me-2 fs-4"></i>
          <h4 class="mb-0">Change Password</h4>
      </div>

      <div class="alert alert-info rounded-3">
          Password must contain at least one number, one uppercase and lowercase letter, and a minimum of 4 characters.
      </div>

      <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
          <div class="mb-3 position-relative">
              <label for="currentPassword" class="form-label">Current Password:</label>
              <input type="password" id="currentPassword" class="form-control rounded-3" formControlName="currentPassword" required>
          </div>

          <div class="mb-3 position-relative">
              <label for="newPassword" class="form-label">New Password:</label>
              <div class="input-group">
                  <input [type]="showNewPassword ? 'text' : 'password'" id="newPassword" class="form-control rounded-3" formControlName="newPassword" required>
                  <button type="button" class="btn btn-light border" (click)="toggleNewPassword()">
                      <i class="bi" [ngClass]="showNewPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
                  </button>
              </div>
              <div *ngIf="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched" class="text-danger small mt-1">
                  Invalid password format. Password must contain uppercase, lowercase, digit, and be at least 4 characters long.
              </div>
          </div>

          <div class="mb-3 position-relative">
              <label for="confirmPassword" class="form-label">Confirm Password:</label>
              <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword" class="form-control rounded-3" formControlName="confirmPassword" required>
              <button type="button" class="btn btn-light border position-absolute top-50 end-0 translate-middle-y me-2" (click)="toggleConfirmPassword()">
                  <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
              </button>
          </div>

          <button type="submit" class="btn btn-primary w-100 rounded-3 mt-3" [disabled]="!changePasswordForm.valid">Submit</button>
      </form>
  </div>
</div>